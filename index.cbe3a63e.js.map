{"mappings":"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","sources":["src/js/calc.js"],"sourcesContent":["const refs = {\n  calc: document.querySelector('.calc'),\n  input: document.querySelector('.entered-data-string'),\n  result: document.querySelector('.result-string'),\n  history: document.querySelector('.history-string'),\n};\n\nconst dataFromDisplay = {\n  dataValue: [],\n  operationsType: [],\n};\n\nlet counterOperations = 0;\nlet res = 0;\nlet prevBtn = null;\n\nrefs.calc.addEventListener('click', onBtnClick);\n\nfunction onBtnClick(e) {\n  if (e.target.nodeName === 'BUTTON') {\n    // check for push Null button\n    isPushNullBtn(e);\n    // check for push Del button\n    isDelBtn(e);\n    //   ====================================== action buttons\n    sum(e);\n    min(e);\n    multi(e);\n    div(e);\n    result(e);\n    isActionBtn(e);\n    //====================================== update digits on calc screen\n    updateDisplayData(e);\n    // }\n  }\n}\n\nfunction result(e) {\n  if (e.target.dataset.value === 'res') {\n    let { dataValue, operationsType } = dataFromDisplay;\n    dataValue.push(Number(refs.input.textContent));\n    for (let i = 0; i < operationsType.length; i += 1) {\n      res = dataValue[0];\n      let operation = operationsType[i];\n      let b = dataValue[i + 1];\n\n      doMath(res, operation, b);\n    }\n    //=====================================\n    const history = [];\n    for (let i = 0; i < dataValue.length; i += 1) {\n      history.push(dataValue[i]);\n      history.push(operationsType[i]);\n    }\n    history.pop();\n    const historyEl = history.join('');\n    //=====================================\n\n    createResMarkup(res);\n    createHistoryMarkup(historyEl);\n    prevBtn = 'action';\n\n    refs.input.textContent = 0;\n    counterOperations = 0;\n    res = 0;\n\n    clearDataFromDisplay(dataFromDisplay);\n  }\n}\n\nfunction sum(e) {\n  if (e.target.dataset.value === 'sum') {\n    const { dataValue, operationsType } = dataFromDisplay;\n    dataValue.push(Number(refs.input.textContent));\n    operationsType.push('+');\n    prevBtn = 'action';\n  }\n}\n\nfunction min(e) {\n  if (e.target.dataset.value === 'min') {\n    const { dataValue, operationsType } = dataFromDisplay;\n    dataValue.push(Number(refs.input.textContent));\n    operationsType.push('-');\n    prevBtn = 'action';\n  }\n}\nfunction multi(e) {\n  if (e.target.dataset.value === 'multi') {\n    const { dataValue, operationsType } = dataFromDisplay;\n    dataValue.push(Number(refs.input.textContent));\n    operationsType.push('*');\n    prevBtn = 'action';\n  }\n}\n\nfunction div(e) {\n  if (e.target.dataset.value === 'div') {\n    const { dataValue, operationsType } = dataFromDisplay;\n    dataValue.push(Number(refs.input.textContent));\n    operationsType.push('/');\n    prevBtn = 'action';\n  }\n}\n\nfunction clearDataFromDisplay(obj) {\n  for (key in obj) {\n    obj[key] = [];\n  }\n}\n\nfunction isActionBtn(e) {\n  if (e.target.classList.contains('action')) {\n    counterOperations += 1;\n  }\n}\n\nfunction updateDisplayData(e) {\n  if (refs.input.textContent.length > 12 || e.target.dataset.value) {\n    return;\n  } else if (prevBtn) {\n    refs.input.textContent = e.target.textContent;\n    prevBtn = null;\n  } else if (Number(e.target.textContent) > 0) {\n    if (refs.input.textContent[0] === '0') {\n      const newString = refs.input.textContent.split('');\n      newString.pop();\n      refs.input.textContent = newString.join('');\n    }\n    refs.input.textContent += e.target.textContent;\n  } else if (\n    Number(e.target.textContent) === 0 &&\n    refs.input.textContent.length >= 1 &&\n    Number(refs.input.textContent) !== 0\n  ) {\n    refs.input.textContent += e.target.textContent;\n  } else {\n    refs.input.textContent = 0;\n  }\n}\n\nfunction isPushNullBtn(e) {\n  if (e.target.textContent === 'Null') {\n    prevBtn = null;\n\n    refs.input.textContent = '';\n    counterOperations = 0;\n    res = 0;\n\n    clearDataFromDisplay(dataFromDisplay);\n  }\n}\n\nfunction isDelBtn(e) {\n  if (e.target.dataset.value === 'del') {\n    const targetValue = refs.input.textContent.split('');\n    targetValue.pop();\n    refs.input.textContent = targetValue.join('');\n  }\n}\n\nfunction createResMarkup(res) {\n  const markup = `<span>${res}</span>`;\n  refs.result.innerHTML = markup;\n}\nfunction createHistoryMarkup(historyEl) {\n  const markup = `<span>${historyEl} </span>`;\n  if (refs.history.textContent.length < 40) {\n    refs.history.insertAdjacentHTML('beforeend', markup);\n  } else {\n    refs.history.innerHTML = markup;\n  }\n}\n\nfunction doMath(x, operation, y) {\n  switch (operation) {\n    case '+':\n      res = x + y;\n      break;\n    case '-':\n      res = x - y;\n      break;\n    case '*':\n      res = x * y;\n      break;\n    case '/':\n      res = x / y;\n      break;\n    case '%':\n      res = x % y;\n      break;\n    case '^':\n      res = x ^ y;\n      break;\n  }\n  return res;\n}\n"],"names":["refs","calc","document","querySelector","input","result","history","dataFromDisplay","dataValue","operationsType","counterOperations","res","prevBtn","onBtnClick","e","target","nodeName","isPushNullBtn","isDelBtn","sum","min","multi","div","isActionBtn","updateDisplayData","dataset","value","push","Number","textContent","i","length","operation","b","doMath","i1","pop","historyEl","join","createResMarkup","createHistoryMarkup","clearDataFromDisplay","obj","key","classList","contains","newString","split","targetValue","res1","markup","concat","innerHTML","insertAdjacentHTML","x","y","addEventListener"],"version":3,"file":"index.cbe3a63e.js.map"}