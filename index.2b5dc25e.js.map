{"mappings":"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","sources":["src/js/calc.js"],"sourcesContent":["const refs = {\n  calc: document.querySelector('.calc'),\n  input: document.querySelector('.calc-display'),\n  result: document.querySelector('.results-section'),\n  history: document.querySelector('.history-section'),\n};\n\nconst dataFromDisplay = {\n  dataValue: [],\n  operationsType: [],\n};\n\nlet counterOperations = 0;\nlet res = 0;\n\nrefs.calc.addEventListener('click', onBtnClick);\n\nfunction onBtnClick(e) {\n  if (e.target.nodeName === 'BUTTON') {\n    //   chech for dgits 0-9 and mzx length 12 digits for add to screen\n    updateDisplayData(e);\n    // check input begins not from 0\n    isNotNullStart(e);\n\n    //   ====================================== action buttons\n    // check for push Null button\n    isPushNullBtn(e);\n    // check for push Del button\n    isDelBtn(e);\n\n    sum(e);\n    min(e);\n    multi(e);\n    div(e);\n    result(e);\n    isActionBtn(e);\n  }\n}\n\nfunction result(e) {\n  if (e.target.dataset.value === 'res') {\n    let { dataValue, operationsType } = dataFromDisplay;\n    dataValue.push(Number(refs.input.value));\n\n    for (let i = 0; i < operationsType.length; i += 1) {\n      res = dataValue[0];\n      let operation = operationsType[i];\n      let b = dataValue[i + 1];\n\n      doMath(res, operation, b);\n    }\n    //=====================================\n    const history = [];\n    for (let i = 0; i < dataValue.length; i += 1) {\n      history.push(dataValue[i]);\n      history.push(operationsType[i]);\n    }\n    history.pop();\n    const historyEl = history.join('');\n    //================================\n\n    createResMarkup(res);\n    createHistoryMarkup(historyEl);\n    refs.input.value = res;\n    counterOperations = 0;\n    clearDataFromDisplay(dataFromDisplay);\n  }\n}\n\nfunction sum(e) {\n  if (e.target.dataset.value === 'sum') {\n    const { dataValue, operationsType } = dataFromDisplay;\n    dataValue.push(Number(refs.input.value));\n    operationsType.push('+');\n    refs.input.value = ' ';\n  }\n}\n\nfunction min(e) {\n  if (e.target.dataset.value === 'min') {\n    const { dataValue, operationsType } = dataFromDisplay;\n    dataValue.push(Number(refs.input.value));\n    operationsType.push('-');\n    refs.input.value = ' ';\n  }\n}\nfunction multi(e) {\n  if (e.target.dataset.value === 'multi') {\n    const { dataValue, operationsType } = dataFromDisplay;\n    dataValue.push(Number(refs.input.value));\n    operationsType.push('*');\n    refs.input.value = ' ';\n  }\n}\n\nfunction div(e) {\n  if (e.target.dataset.value === 'div') {\n    const { dataValue, operationsType } = dataFromDisplay;\n    dataValue.push(Number(refs.input.value));\n    operationsType.push('/');\n    refs.input.value = ' ';\n  }\n}\n\nfunction clearDataFromDisplay(obj) {\n  for (key in obj) {\n    obj[key] = [];\n  }\n}\n\nfunction isActionBtn(e) {\n  if (e.target.classList.contains('action')) {\n    counterOperations += 1;\n  }\n}\n\nfunction updateDisplayData(e) {\n  if (Number(e.target.textContent) >= 0 && refs.input.value.length < 12) {\n    refs.input.value += e.target.textContent;\n  }\n}\n\nfunction isNotNullStart(e) {\n  //block begin input from 0\n  if (refs.input.value[0] === '0' && refs.input.value.length > 1) {\n    refs.input.value = '';\n  }\n}\n\nfunction isPushNullBtn(e) {\n  if (e.target.textContent === 'Null') {\n    refs.input.value = '';\n    counterOperations = 0;\n    res = 0;\n\n    for (key in dataFromDisplay) {\n      dataFromDisplay[key] = [];\n    }\n  }\n}\n\nfunction isDelBtn(e) {\n  if (e.target.dataset.value === 'del') {\n    const targetValue = refs.input.value.split('');\n    targetValue.pop();\n    refs.input.value = targetValue.join('');\n  }\n}\n\nfunction createResMarkup(res) {\n  const markup = `<p>${res}</p>`;\n  refs.result.insertAdjacentHTML('beforeend', markup);\n}\nfunction createHistoryMarkup(historyEl) {\n  const markup = `<p>${historyEl}</p>`;\n  refs.history.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction doMath(x, operation, y) {\n  switch (operation) {\n    case '+':\n      res = x + y;\n      break;\n    case '-':\n      res = x - y;\n      break;\n    case '*':\n      res = x * y;\n      break;\n    case '/':\n      res = x / y;\n      break;\n    case '%':\n      res = x % y;\n      break;\n    case '^':\n      res = x ^ y;\n      break;\n  }\n  return res;\n}\n"],"names":["refs","calc","document","querySelector","input","result","history","dataFromDisplay","dataValue","operationsType","counterOperations","res","onBtnClick","e","target","nodeName","updateDisplayData","isNotNullStart","isPushNullBtn","isDelBtn","sum","min","multi","div","isActionBtn","dataset","value","push","Number","i","length","operation","b","doMath","i1","pop","historyEl","join","createResMarkup","createHistoryMarkup","clearDataFromDisplay","obj","key","classList","contains","textContent","targetValue","split","res1","markup","concat","insertAdjacentHTML","x","y","addEventListener"],"version":3,"file":"index.2b5dc25e.js.map"}