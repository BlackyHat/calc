var refs={calc:document.querySelector(".calc"),input:document.querySelector(".entered-data-string"),result:document.querySelector(".result-string"),history:document.querySelector(".history-string")},dataFromDisplay={dataValue:[],operationsType:[]},counterOperations=0,res=0,prevBtn=null;function onBtnClick(t){"BUTTON"===t.target.nodeName&&(isPushNullBtn(t),isDelBtn(t),sum(t),min(t),multi(t),div(t),result(t),isActionBtn(t),updateDisplayData(t))}function result(t){if("res"===t.target.dataset.value){var e=dataFromDisplay.dataValue,n=dataFromDisplay.operationsType;e.push(Number(refs.input.textContent));for(var a=0;a<n.length;a+=1){res=e[0];var r=n[a],s=e[a+1];doMath(res,r,s)}for(var i=[],o=0;o<e.length;o+=1)i.push(e[o]),i.push(n[o]);i.pop();var u=i.join("");createResMarkup(res),createHistoryMarkup(u),prevBtn="action",refs.input.textContent=0,counterOperations=0,res=0,clearDataFromDisplay(dataFromDisplay)}}function sum(t){if("sum"===t.target.dataset.value){var e=dataFromDisplay.dataValue,n=dataFromDisplay.operationsType;e.push(Number(refs.input.textContent)),n.push("+"),prevBtn="action"}}function min(t){if("min"===t.target.dataset.value){var e=dataFromDisplay.dataValue,n=dataFromDisplay.operationsType;e.push(Number(refs.input.textContent)),n.push("-"),prevBtn="action"}}function multi(t){if("multi"===t.target.dataset.value){var e=dataFromDisplay.dataValue,n=dataFromDisplay.operationsType;e.push(Number(refs.input.textContent)),n.push("*"),prevBtn="action"}}function div(t){if("div"===t.target.dataset.value){var e=dataFromDisplay.dataValue,n=dataFromDisplay.operationsType;e.push(Number(refs.input.textContent)),n.push("/"),prevBtn="action"}}function clearDataFromDisplay(t){for(key in t)t[key]=[]}function isActionBtn(t){t.target.classList.contains("action")&&(counterOperations+=1)}function updateDisplayData(t){if(!(refs.input.textContent.length>12||t.target.dataset.value))if(prevBtn)refs.input.textContent=t.target.textContent,prevBtn=null;else if(Number(t.target.textContent)>0){if("0"===refs.input.textContent[0]){var e=refs.input.textContent.split("");e.pop(),refs.input.textContent=e.join("")}refs.input.textContent+=t.target.textContent}else 0===Number(t.target.textContent)&&refs.input.textContent.length>=1&&0!==Number(refs.input.textContent)?refs.input.textContent+=t.target.textContent:refs.input.textContent=0}function isPushNullBtn(t){"Null"===t.target.textContent&&(prevBtn=null,refs.input.textContent="",counterOperations=0,res=0,clearDataFromDisplay(dataFromDisplay))}function isDelBtn(t){if("del"===t.target.dataset.value){var e=refs.input.textContent.split("");e.pop(),refs.input.textContent=e.join("")}}function createResMarkup(t){var e="<span>".concat(t,"</span>");refs.result.innerHTML=e}function createHistoryMarkup(t){var e="<span>".concat(t," </span>");refs.history.textContent.length<40?refs.history.insertAdjacentHTML("beforeend",e):refs.history.innerHTML=e}function doMath(t,e,n){switch(e){case"+":res=t+n;break;case"-":res=t-n;break;case"*":res=t*n;break;case"/":res=t/n;break;case"%":res=t%n;break;case"^":res=t^n}return res}refs.calc.addEventListener("click",onBtnClick);
//# sourceMappingURL=index.cbe3a63e.js.map
